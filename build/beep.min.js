"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.a=!0;var Beep=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],n=arguments.length<=1||void 0===arguments[1]?"square":arguments[1];_classCallCheck(this,t),this.b=e,this.c=n}return t.prototype.init=function(){return void 0===this.d?(this.d=this.e(),Promise.resolve()):Promise.resolve()},t.prototype.beep=function(t){var e=this;return this.init().then(function(){return new Promise(function(n){var o=e.f(e.b),r=e.g(e.c);r.onended=function(){return n()};var i=e.d.currentTime,s=t.shift(),a=s[0],c=s[1],u=i+e.h(c);r.frequency.value=a,t.forEach(function(t){var n=t[0],o=t[1];r.frequency.setValueAtTime(n,u),u+=e.h(o)}),r.connect(o),o.connect(e.d.destination),r.start(i),r.stop(u)})})},t.prototype.g=function(t){var e=this.d.createOscillator();return e.start=e.noteOn||e.start,e.stop=e.noteOff||e.stop,e.type=t,e},t.prototype.f=function(t){var e=this.d.createGain();return e.start=e.noteOn||e.start,e.stop=e.noteOff||e.stop,e.gain.value=t,e},t.prototype.e=function(){return new(window.AudioContext||window.webkitAudioContext)},t.prototype.h=function(t){return t/1e3},t}();exports.default=Beep;
